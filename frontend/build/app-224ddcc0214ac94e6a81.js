webpackJsonp([0],{"../scss/app.scss":function(e,t){},"./actions/auth.js":function(e,t,r){"use strict";function n(){return{type:y}}function a(e){return{type:v,role:e.role,id_token:e.id_token}}function o(e){return{type:j,message:e}}function s(){return{type:w}}function i(){return{type:N}}function c(e){return function(t){t(o(e))}}function u(e){var t={username:e.username,password:e.password},s={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)};return function(e){return e(n()),fetch(E.b+"/auth",s).then(function(e){return e.json().then(function(t){return{body:t,response:e}})}).then(function(t){var n=t.body;if(!t.response.ok)return e(o(n.error)),Promise.reject(n.error);localStorage.setItem(E.a,n.token);var s={token:n.token,role:m()(n.token).role.authority};e(a(s)),e(r.i(b.c)()),e(r.i(g.a)()),h.b.push("/users")}).catch(function(t){e(o(t)),console.log("Error: ",t)})}}function l(){return function(e){e(s()),localStorage.removeItem(E.a),e(i()),h.b.push("/")}}function f(e){return{type:O,role:e}}function d(){var e=localStorage.getItem(E.a)||null;if(e){var t=m()(e).role.authority;return function(e){e(f(t))}}return function(e){e(f("ROLE_NONE"))}}r.d(t,"f",function(){return y}),r.d(t,"g",function(){return v}),r.d(t,"h",function(){return j}),t.a=a,r.d(t,"j",function(){return _}),r.d(t,"i",function(){return N}),t.b=c,t.c=u,t.e=l,r.d(t,"k",function(){return O}),t.d=d;var p=r("../node_modules/jwt-decode/lib/index.js"),m=r.n(p),h=r("../node_modules/react-router/es/index.js"),b=r("./actions/register.js"),g=r("./actions/users.js"),E=r("./const.js"),y="LOGIN_REQUEST",v="LOGIN_SUCCESS",j="LOGIN_FAILURE",_="CLEAR_LOGIN_ERRORS",w="LOGOUT_REQUEST",N="LOGOUT_SUCCESS",O="SET_ROLE"},"./actions/register.js":function(e,t,r){"use strict";function n(){return{type:h}}function a(e){return{type:b,id_token:e.id_token}}function o(e){return{type:g,message:e}}function s(){return{type:E}}function i(e){return function(t){t(o(e))}}function c(e){var t={firstName:e.firstName,lastName:e.lastName,username:e.username,email:e.email,confirmEmail:e.confirmEmail,password:e.password,confirmPassword:e.confirmPassword},o={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)};return function(e){return e(n()),fetch(m.b+"/auth/create",o).then(function(e){return e.json().then(function(t){return{body:t,response:e}})}).then(function(t){var n=t.body;if(!t.response.ok)return e(i(n.error)),Promise.reject(n.error);localStorage.setItem(m.a,n.token),e(a(n));var o={token:n.token,role:l()(n.token).role.authority};e(r.i(d.a)(o)),e(s()),e(r.i(p.a)()),f.b.push("/users")})}}r.d(t,"d",function(){return h}),r.d(t,"f",function(){return b}),r.d(t,"e",function(){return g}),r.d(t,"g",function(){return E}),t.c=s,t.a=i,t.b=c;var u=r("../node_modules/jwt-decode/lib/index.js"),l=r.n(u),f=r("../node_modules/react-router/es/index.js"),d=r("./actions/auth.js"),p=r("./actions/users.js"),m=r("./const.js"),h="REGISTRATION_REQUEST",b="REGISTRATION_SUCCESS",g="REGISTRATION_FAILURE",E="REGISTRATION_CLEAR_ERRORS"},"./actions/users.js":function(e,t,r){"use strict";function n(){return{type:b}}function a(e){return{type:E,message:e}}function o(e){return{type:g,users:e}}function s(){var e=localStorage.getItem(h.a)||null,t={};if(!e)throw"No token saved!";return t={headers:{Authorization:""+e}},function(e){return e(n()),fetch(h.b+"/manage/users",t).then(function(e){return e.json().then(function(t){return{body:t,response:e}})}).then(function(t){var r=t.body;if(!t.response.ok)return e(a("Failed to get users. "+r.error)),Promise.reject(r.error);e(o(r))}).catch(function(t){e(a("Failed to get users. "+t)),console.log("Error: ",t)})}}function i(){return{type:y}}function c(e){return{type:j,message:e}}function u(e){return{type:v,users:e}}function l(e){var t=localStorage.getItem(h.a)||null,r={};if(!t)throw"No token saved!";return r={headers:{Authorization:""+t,"Content-Type":"application/json"},method:"POST",body:JSON.stringify(e)},function(e){return e(i()),fetch(h.b+"/manage/user",r).then(function(e){return e.json().then(function(t){return{body:t,response:e}})}).then(function(t){var r=t.body;if(!t.response.ok)return e(c("Failed to update user. "+r.error)),Promise.reject("Failed to update user");e(u(r))}).catch(function(t){e(c("Failed to update user. "+body.error)),console.log("Error: ",t)})}}function f(){return{type:_}}function d(e){return{type:N,message:e}}function p(e){return{type:w,users:e}}function m(e){var t=localStorage.getItem(h.a)||null,r={};if(!t)throw"No token saved!";return r={headers:{Authorization:""+t,"Content-Type":"application/json"},method:"DELETE",body:JSON.stringify(e)},function(e){return e(f()),fetch(h.b+"/admin/user",r).then(function(e){return e.json().then(function(t){return{body:t,response:e}})}).then(function(t){var r=t.body;if(!t.response.ok)return e(d("Failed to delete user. "+r.error)),Promise.reject("Failed to update user");e(p(r))}).catch(function(t){e(d("Failed to delete user. "+t)),console.log("Error: ",t)})}}r.d(t,"d",function(){return b}),r.d(t,"e",function(){return g}),r.d(t,"f",function(){return E}),t.a=s,r.d(t,"g",function(){return y}),r.d(t,"h",function(){return v}),r.d(t,"i",function(){return j}),t.c=l,r.d(t,"j",function(){return _}),r.d(t,"k",function(){return w}),r.d(t,"l",function(){return N}),t.b=m;var h=r("./const.js"),b="GET_USERS_REQUEST",g="GET_USERS_SUCCESS",E="GET_USERS_FAILURE",y="UPDATE_USER_REQUEST",v="UPDATE_USER_SUCCESS",j="UPDATE_USER_FAILURE",_="DELETE_USERS_REQUEST",w="DELETE_USERS_SUCCESS",N="DELETE_USERS_FAILURE"},"./components/LoginNav.js":function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.d(t,"a",function(){return l});var s=r("../node_modules/react/react.js"),i=r.n(s),c=r("../node_modules/react-router/es/index.js"),u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),l=function(e){function t(){return n(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),u(t,[{key:"render",value:function(){var e=this,t=this.props.errorMessage,r=void 0;return t&&"string"==typeof t&&(r=t.split("\n").map(function(e,t){return i.a.createElement("div",{key:t,className:"red"},e)})),i.a.createElement("div",null,i.a.createElement("input",{type:"text",ref:"username",min:"4",max:"50",className:"form-control nav-input",placeholder:"Username"}),i.a.createElement("input",{type:"password",ref:"password",min:"4",max:"100",className:"form-control nav-input",placeholder:"Password"}),i.a.createElement("button",{onClick:function(t){return e.handleLoginClick(t)},className:"btn btn-primary nav-btn"},"Log In"),i.a.createElement(c.e,{to:"/register"},i.a.createElement("button",{className:"btn btn-primary"},"Register")),r&&i.a.createElement("div",{className:"nav-error"},r))}},{key:"handleLoginClick",value:function(e){var t=this.refs.username,r=this.refs.password,n={username:t.value.trim(),password:r.value.trim()},a=this.validateCreds(n);if(a.length>0)return void this.props.onLoginError(a);this.props.onLoginClick(n)}},{key:"validateCreds",value:function(e){var t="";return(e.username.length<4||e.username.length>50)&&(t+="Username must be 4-50 characters.\n"),(e.password.length<4||e.password.lastName>100)&&(t+="Password must be between 4-100 characters.\n"),t.endsWith("\n")&&(t=t.substr(0,t.length-1)),t}}]),t}(s.Component);l.propTypes={dispatch:s.PropTypes.func.isRequired,onLoginClick:s.PropTypes.func.isRequired,onLoginError:s.PropTypes.func.isRequired,errorMessage:s.PropTypes.string}},"./components/Navbar.js":function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.d(t,"a",function(){return p});var s=r("../node_modules/react/react.js"),i=r.n(s),c=r("./components/LoginNav.js"),u=r("./components/buttons/Logout.js"),l=r("./actions/auth.js"),f=r("./components/buttons/Users.js"),d=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),p=function(e){function t(){return n(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),d(t,[{key:"render",value:function(){var e=this.props,t=e.dispatch,n=e.isAuthenticated,a=e.loginErrorMessage,o=e.role;return i.a.createElement("nav",{className:"navbar navbar-default"},i.a.createElement("div",{className:"container-fluid"},i.a.createElement("a",{className:"navbar-brand",href:"#"},"Ideas Pipeline"),i.a.createElement("div",{className:"navbar-form text-right"},!n&&i.a.createElement(c.a,{errorMessage:a,onLoginClick:function(e){return t(r.i(l.c)(e))},onLoginError:function(e){return t(r.i(l.b)(e))},dispatch:t}),("ROLE_ADMIN"===o||"ROLE_USER_MANAGER"===o)&&i.a.createElement("span",null,i.a.createElement(f.a,null)),n&&i.a.createElement(u.a,{onLogoutClick:function(){return t(r.i(l.e)())}}))))}}]),t}(s.Component);p.propTypes={dispatch:s.PropTypes.func.isRequired,isAuthenticated:s.PropTypes.bool.isRequired,loginErrorMessage:s.PropTypes.string,role:s.PropTypes.string.isRequired}},"./components/buttons/Logout.js":function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.d(t,"a",function(){return l});var s=r("../node_modules/react/react.js"),i=r.n(s),c=r("../node_modules/react-router/es/index.js"),u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),l=function(e){function t(){return n(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),u(t,[{key:"render",value:function(){var e=this.props.onLogoutClick;return i.a.createElement(c.e,{to:"/login"},i.a.createElement("button",{onClick:function(){return e()},className:"btn btn-primary"},"Logout"))}}]),t}(s.Component);l.propTypes={onLogoutClick:s.PropTypes.func.isRequired}},"./components/buttons/Users.js":function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.d(t,"a",function(){return l});var s=r("../node_modules/react/react.js"),i=r.n(s),c=r("../node_modules/react-router/es/index.js"),u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),l=function(e){function t(){return n(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),u(t,[{key:"render",value:function(){return i.a.createElement(c.e,{to:"/users"},i.a.createElement("button",{className:"btn btn-primary nav-btn"},"Users"))}}]),t}(s.Component)},"./const.js":function(e,t,r){"use strict";r.d(t,"b",function(){return n}),r.d(t,"a",function(){return a});var n=r.i({NODE_ENV:"production"}).API_BASE_URI||"http://localhost:8080",a="id_token"},"./index.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("../node_modules/react/react.js"),a=r.n(n),o=r("../node_modules/react-dom/index.js"),s=r.n(o),i=r("../node_modules/redux/es/index.js"),c=r("../node_modules/react-redux/lib/index.js"),u=(r.n(c),r("./routes.js")),l=r("../node_modules/redux-thunk/lib/index.js"),f=r.n(l),d=r("./reducers/index.js"),p=r("../node_modules/babel-polyfill/lib/index.js"),m=(r.n(p),r("../scss/app.scss")),h=(r.n(m),null),b=r.i(i.applyMiddleware)(f.a)(i.createStore);h=r.i(i.createStore)(d.a,b),s.a.render(a.a.createElement(c.Provider,{store:h},a.a.createElement(u.a,null)),document.getElementById("root"))},"./reducers/auth.js":function(e,t,r){"use strict";function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isFetchingCreds:!1,isAuthenticated:!!localStorage.getItem(o.a),role:"ROLE_NONE"},t=arguments[1];switch(t.type){case a.f:return Object.assign({},e,{isFetchingCreds:!0,isAuthenticated:!1});case a.g:return Object.assign({},e,{isFetchingCreds:!1,isAuthenticated:!0,role:t.role,loginErrorMessage:""});case a.h:return Object.assign({},e,{isFetchingCreds:!1,isAuthenticated:!1,loginErrorMessage:t.message});case a.i:return Object.assign({},e,{isFetchingCreds:!1,isAuthenticated:!1,role:"ROLE_NONE"});case a.j:return Object.assign({},e,{loginErrorMessage:""});case a.k:return Object.assign({},e,{isAuthenticated:!0,role:t.role});default:return e}}t.a=n;var a=r("./actions/auth.js"),o=r("./const.js")},"./reducers/index.js":function(e,t,r){"use strict";var n=r("../node_modules/redux/es/index.js"),a=r("./reducers/auth.js"),o=r("./reducers/register.js"),s=r("./reducers/users.js"),i=r.i(n.combineReducers)({auth:a.a,register:o.a,users:s.a});t.a=i},"./reducers/register.js":function(e,t,r){"use strict";function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isFetching:!1,registerErrorMessage:""},t=arguments[1];switch(t.type){case a.d:return Object.assign({},e,{isFetching:!0,user:t.creds});case a.e:return Object.assign({},e,{isRegistrationFormOpen:!0,registerErrorMessage:t.message});case a.f:return Object.assign({},e,{});case a.g:return Object.assign({},e,{registerErrorMessage:""});default:return e}}t.a=n;var a=r("./actions/register.js")},"./reducers/users.js":function(e,t,r){"use strict";function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isFetchingUsers:!1,usersArr:void 0,usersErrorMessage:void 0},t=arguments[1];switch(t.type){case a.d:return Object.assign({},e,{isFetchingUsers:!0});case a.e:return Object.assign({},e,{isFetchingUsers:!1,usersArr:t.users,usersErrorMessage:void 0});case a.f:return Object.assign({},e,{isFetchingUsers:!1,usersErrorMessage:t.message});case a.g:return Object.assign({},e,{isFetchingUsers:!0});case a.h:return Object.assign({},e,{isFetchingUsers:!1,usersArr:t.users,usersErrorMessage:void 0});case a.i:return Object.assign({},e,{isFetchingUsers:!1,usersErrorMessage:t.message});case a.j:return Object.assign({},e,{isFetchingUsers:!0});case a.k:return Object.assign({},e,{isFetchingUsers:!1,usersArr:t.users,usersErrorMessage:void 0});case a.l:return Object.assign({},e,{isFetchingUsers:!1,usersErrorMessage:t.message});default:return e}}t.a=n;var a=r("./actions/users.js")},"./routes.js":function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){localStorage.getItem(f.a)||t({pathname:"/login"})}function i(e,t){localStorage.getItem(f.a)&&t({pathname:"/users"})}r.d(t,"a",function(){return g});var c=r("../node_modules/react/react.js"),u=r.n(c),l=r("../node_modules/react-router/es/index.js"),f=r("./const.js"),d=r("./views/App.js"),p=r("./views/LoginFull.js"),m=r("./views/Register.js"),h=r("./views/Users.js"),b=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),g=function(e){function t(){return n(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),b(t,[{key:"render",value:function(){return u.a.createElement(l.a,{history:l.b},u.a.createElement(l.c,{path:"/",component:d.a},u.a.createElement(l.d,{path:"",component:p.a,onEnter:i}),u.a.createElement(l.c,{path:"/login",component:p.a,onEnter:i}),u.a.createElement(l.c,{path:"/register",component:m.a}),u.a.createElement(l.c,{path:"/users",component:h.a,onEnter:s})))}}]),t}(c.Component)},"./views/App.js":function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){var t=e.auth,r=e.register,n=e.users,a=n.usersArr,o=n.isFetchingUsers,s=r.registerErrorMessage;return{usersArr:a,isAuthenticated:t.isAuthenticated,loginErrorMessage:t.loginErrorMessage,registerErrorMessage:s,role:t.role,isFetchingUsers:o}}var i=r("../node_modules/react/react.js"),c=r.n(i),u=r("../node_modules/react-redux/lib/index.js"),l=(r.n(u),r("./components/Navbar.js")),f=r("./actions/auth.js"),d=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),p=function(e){function t(){return n(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),d(t,[{key:"render",value:function(){var e=this.props,t=e.dispatch,n=e.isAuthenticated,a=e.loginErrorMessage,o=e.role;return n&&"ROLE_NONE"===o&&t(r.i(f.d)()),c.a.createElement("div",null,c.a.createElement(l.a,{isAuthenticated:n,loginErrorMessage:a,dispatch:t,role:o}),this.props.children)}}]),t}(i.Component);p.propTypes={dispatch:i.PropTypes.func.isRequired,usersArr:i.PropTypes.array,isAuthenticated:i.PropTypes.bool.isRequired,loginErrorMessage:i.PropTypes.string,registerErrorMessage:i.PropTypes.string,role:i.PropTypes.string,activeView:i.PropTypes.string},t.a=r.i(u.connect)(s)(p)},"./views/LoginFull.js":function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){var t=e.auth;return{isAuthenticated:t.isAuthenticated,errorMessage:t.loginErrorMessage}}var i=r("../node_modules/react/react.js"),c=r.n(i),u=r("../node_modules/react-redux/lib/index.js"),l=(r.n(u),r("../node_modules/react-router/es/index.js")),f=r("./actions/auth.js"),d=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),p=function(e){function t(){return n(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),d(t,[{key:"render",value:function(){var e=this,t=this.props.errorMessage,r=void 0;return t&&"string"==typeof t&&(r=t.split("\n").map(function(e,t){return c.a.createElement("li",{key:t,className:"red"},e)})),c.a.createElement("div",null,c.a.createElement("div",{className:"container col-md-offset-2 col-sm-4"},c.a.createElement("div",{className:"container"},c.a.createElement("h1",{className:"text-center"},"Log In"),c.a.createElement("div",{className:"form-group row"},c.a.createElement("label",{className:"col-2 col-form-label"},"Username"),c.a.createElement("div",{className:"col-10"},c.a.createElement("input",{ref:"username",className:"form-control",min:"4",max:"50",type:"text",placeholder:"Username",id:"username"}))),c.a.createElement("div",{className:"form-group row"},c.a.createElement("label",{className:"col-2 col-form-label"},"Password"),c.a.createElement("div",{className:"col-10"},c.a.createElement("input",{ref:"password",className:"form-control",min:"4",max:"100",type:"password",placeholder:"Password",id:"password"}))),r&&c.a.createElement("ul",null,r),c.a.createElement("div",{className:"form-group row"},c.a.createElement("button",{onClick:function(t){return e.handleLoginClick(t)},className:"btn btn-primary"},"Log In"))),c.a.createElement("div",{className:"container text-center"},c.a.createElement("hr",null),c.a.createElement("h4",null,"No account? ",c.a.createElement(l.e,{to:"/register"},"Register")))))}},{key:"handleLoginClick",value:function(e){var n=this.refs.username,a=this.refs.password,o={username:n.value.trim(),password:a.value.trim()},s=t.validateCreds(o);if(s.length>0)return void this.props.dispatch(r.i(f.b)(s));this.props.dispatch(r.i(f.c)(o))}}],[{key:"validateCreds",value:function(e){var t="";return(e.username.length<4||e.username.length>50)&&(t+="Username must be 4-50 characters.\n"),(e.password.length<4||e.password.lastName>100)&&(t+="Password must be between 4-100 characters.\n"),t.endsWith("\n")&&(t=t.substr(0,t.length-1)),t}}]),t}(i.Component);p.propTypes={dispatch:i.PropTypes.func.isRequired,isAuthenticated:i.PropTypes.bool,errorMessage:i.PropTypes.string},t.a=r.i(u.connect)(s)(p)},"./views/Register.js":function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){var t=e.register,r=e.auth,n=t.registerErrorMessage;return{isAuthenticated:r.isAuthenticated,errorMessage:n}}var i=r("../node_modules/react/react.js"),c=r.n(i),u=r("../node_modules/react-redux/lib/index.js"),l=(r.n(u),r("../node_modules/react-router/es/index.js")),f=r("./actions/register.js"),d=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),p=function(e){function t(){return n(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),d(t,[{key:"render",value:function(){var e=this,t=this.props.errorMessage,r=void 0;return t&&(r=t.split("\n").map(function(e,t){return c.a.createElement("li",{key:t,className:"red"},e)})),c.a.createElement("div",null,c.a.createElement("div",{className:"container col-md-offset-2 col-sm-4"},c.a.createElement("div",{className:"container"},c.a.createElement("h1",{className:"text-center"},"Register"),c.a.createElement("div",{className:"form-group row"},c.a.createElement("label",{className:"col-2 col-form-label"},"First Name"),c.a.createElement("div",{className:"col-10"},c.a.createElement("input",{className:"form-control",type:"text",min:"1",max:"50",placeholder:"First Name (1-50 Characters)",ref:"firstName"}))),c.a.createElement("div",{className:"form-group row"},c.a.createElement("label",{className:"col-2 col-form-label"},"Last Name"),c.a.createElement("div",{className:"col-10"},c.a.createElement("input",{className:"form-control",type:"text",min:"1",max:"50",placeholder:"Last Name (1-50 Characters)",ref:"lastName"}))),c.a.createElement("div",{className:"form-group row"},c.a.createElement("label",{className:"col-2 col-form-label"},"Email"),c.a.createElement("div",{className:"col-10"},c.a.createElement("input",{className:"form-control",type:"email",placeholder:"Email",ref:"email"}))),c.a.createElement("div",{className:"form-group row"},c.a.createElement("label",{className:"col-2 col-form-label"},"Confirm Email"),c.a.createElement("div",{className:"col-10"},c.a.createElement("input",{className:"form-control",type:"email",placeholder:"Confirm Email",ref:"confirmEmail"}))),c.a.createElement("div",{className:"form-group row"},c.a.createElement("label",{className:"col-2 col-form-label"},"Username"),c.a.createElement("div",{className:"col-10"},c.a.createElement("input",{className:"form-control",type:"text",min:"4",max:"50",placeholder:"Username (4-50 Characters)",ref:"username"}))),c.a.createElement("div",{className:"form-group row"},c.a.createElement("label",{className:"col-2 col-form-label"},"Password"),c.a.createElement("div",{className:"col-10"},c.a.createElement("input",{className:"form-control",type:"password",min:"4",max:"100",placeholder:"Password (4-100 Characters)",ref:"password"}))),c.a.createElement("div",{className:"form-group row"},c.a.createElement("label",{className:"col-2 col-form-label"},"Confirm Password"),c.a.createElement("div",{className:"col-10"},c.a.createElement("input",{className:"form-control",type:"password",min:"4",max:"100",placeholder:"Confirm Password (4-100 Characters)",ref:"confirmPassword"}))),r&&c.a.createElement("ul",null,r),c.a.createElement("div",{className:"form-group row"},c.a.createElement("button",{onClick:function(t){return e.handleRegisterClick(t)},className:"btn btn-primary register-full-btn"},"Register")),c.a.createElement("div",{className:"container text-center"},c.a.createElement("hr",null),c.a.createElement("h4",null,"Already have an account? ",c.a.createElement(l.e,{to:"/login"},"Log In"))))))}},{key:"handleRegisterClick",value:function(e){var n=this.refs.firstName,a=this.refs.lastName,o=this.refs.username,s=this.refs.email,i=this.refs.confirmEmail,c=this.refs.password,u=this.refs.confirmPassword,l={firstName:n.value.trim(),lastName:a.value.trim(),username:o.value.trim(),email:s.value.trim(),confirmEmail:i.value.trim(),password:c.value.trim(),confirmPassword:u.value.trim()},d=t.validateCreds(l);if(d.length>0)return void this.props.dispatch(r.i(f.a)(d));this.props.dispatch(r.i(f.b)(l))}}],[{key:"validateCreds",value:function(e){var r="";return(e.firstName.length<1||e.firstName.length>50)&&(r+="First name must be 1-50 characters.\n"),(e.lastName.length<1||e.lastName.lastName>50)&&(r+="Last name must be 1-50 characters.\n"),t.validateEmail(e.email)||(r+="Invalid email.\n"),e.email!==e.confirmEmail&&(r+="Emails do not match.\n"),(e.username.length<4||e.username.length>50)&&(r+="Username must be 4-50 characters.\n"),(e.password.length<4||e.password.lastName>100)&&(r+="Password must be between 4-100 characters.\n"),e.password!==e.confirmPassword&&(r+="Passwords do not match.\n"),r.endsWith("\n")&&(r=r.substr(0,r.length-1)),r}},{key:"validateEmail",value:function(e){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}}]),t}(i.Component);p.propTypes={dispatch:i.PropTypes.func.isRequired,isAuthenticated:i.PropTypes.bool,errorMessage:i.PropTypes.string},t.a=r.i(u.connect)(s)(p)},"./views/Users.js":function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){var t=e.users,r=e.auth,n=t.isFetchingUsers,a=t.usersArr,o=t.usersErrorMessage;return{isFetchingUsers:n,role:r.role,usersArr:a,usersErrorMessage:o}}var i=r("../node_modules/react/react.js"),c=r.n(i),u=r("../node_modules/react-redux/lib/index.js"),l=(r.n(u),r("../node_modules/react-bootstrap-table/lib/index.js")),f=(r.n(l),r("../node_modules/react-router/es/index.js"),r("./actions/users.js")),d=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),p=function(e){function t(e){n(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.handleEdit=r.handleEdit.bind(r),r.handleDelete=r.handleDelete.bind(r),r}return o(t,e),d(t,[{key:"componentWillMount",value:function(){var e=this.props,t=e.dispatch;e.isFetchingUsers||t(r.i(f.a)())}},{key:"render",value:function(){function e(e,t){return c.a.createElement("input",{type:"checkbox",checked:"true"===e,disabled:!0})}var r=this.props,n=r.usersArr,a=r.role,o=(r.dispatch,r.usersErrorMessage);n&&n.forEach(function(e){e.authorities.forEach(function(t){e[t.name]="true"}),e.enabledString=e.enabled?"true":"false"});var s={mode:"dbclick",blurToSave:!0,beforeSaveCell:t.handleBeforeSaveCell,afterSaveCell:this.handleEdit};this.handleDelete;return void 0!==n?c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"text-center"},"undefined"!==o&&c.a.createElement("h3",{className:"red"},o)),c.a.createElement("h1",{className:"text-center"},"Users"),c.a.createElement(l.BootstrapTable,{data:n,keyField:"id",options:"ROLE_ADMIN"===a?{afterDeleteRow:this.handleDelete}:{},deleteRow:"ROLE_ADMIN"===a,selectRow:{mode:"checkbox"},striped:!0,cellEdit:s,hover:!0,condensed:!0,search:!0,pagination:!0},c.a.createElement(l.TableHeaderColumn,{hidden:!0,hiddenOnInsert:!0,autovalue:!0,dataField:"id"},"Username"),c.a.createElement(l.TableHeaderColumn,{dataField:"username"},"Username"),c.a.createElement(l.TableHeaderColumn,{dataField:"firstName"},"First Name"),c.a.createElement(l.TableHeaderColumn,{dataField:"lastName"},"Last Name"),c.a.createElement(l.TableHeaderColumn,{dataField:"email"},"Email"),c.a.createElement(l.TableHeaderColumn,{dataField:"ROLE_ADMIN",dataFormat:e,editable:"ROLE_ADMIN"===a&&{readonly:"ROLE_ADMIN"!==a,type:"checkbox",options:{values:"true:false"===a}}},"Admin*"),c.a.createElement(l.TableHeaderColumn,{dataField:"ROLE_USER_MANAGER",dataFormat:e,editable:{type:"checkbox",options:{values:"true:false"}}},"Manager"),c.a.createElement(l.TableHeaderColumn,{dataField:"enabledString",dataFormat:e,editable:{type:"checkbox",options:{values:"true:false"}}},"Enabled")),c.a.createElement("span",null,"Double click any field to edit it. Fields marked with a * can only be edited by admins.")):c.a.createElement("div",{className:"text-center"},c.a.createElement("h1",null,"Users"),"undefined"!==o&&c.a.createElement("h3",{className:"red"},o),c.a.createElement("div",null,"Loading data... If you see this for more than a few seconds, your session has expired/invalidated and you should logout then log back in."))}},{key:"handleDelete",value:function(e){(0,this.props.dispatch)(r.i(f.b)(e))}},{key:"handleEdit",value:function(e,t,n){e[t]=n;var a={id:e.id,username:e.username,firstName:e.firstName,lastName:e.lastName,email:e.email,enabled:void 0!==e.enabledString&&"true"===e.enabledString,admin:void 0!==e.ROLE_ADMIN&&"true"===e.ROLE_ADMIN,userManager:void 0!==e.ROLE_USER_MANAGER&&"true"===e.ROLE_USER_MANAGER};(0,this.props.dispatch)(r.i(f.c)(a))}}],[{key:"handleBeforeSaveCell",value:function(e,t,r){return e[t]+""!==r}}]),t}(i.Component);p.propTypes={usersArr:i.PropTypes.array,usersErrorMessage:i.PropTypes.string,isFetchingUsers:i.PropTypes.bool.isRequired,role:i.PropTypes.string.isRequired,dispatch:i.PropTypes.func.isRequired},t.a=r.i(u.connect)(s)(p)}},["./index.js"]);